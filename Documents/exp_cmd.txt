cd \des_81\BIN
exp tpj/pilot@tpj file=c:\TPJ\Dump\TPJ_SERVER_20081007.dmp owner=tpj buffer=32768 compress=no statistics=none
exp PPT_DBA/PPT_DBA123@PPT file=c:\TPJ\peterson\PPT_DBA_SERVER_20080913.dmp owner=PPT_DBA buffer=32768 compress=no statistics=none

exp system@admudb file=C:\Yiucon\admu\ADMUDBA_SERVER_20081025.dmp owner=ADMUDBA buffer=32768 compress=no statistics=none

cd \project\tpj\dump
exp tpj/tester@gvm file=c:\TPJ\Dump\TPJ_GDB_20090313.dmp owner=tpj buffer=32768 compress=no statistics=none
imp glenon@gvm file=c:\Project\TPJ\Dump\TPJ_SERVER_20090811135143.DMP fromuser=tpj touser=tpj grants=no log=c:\Project\TPJ\Dump\imp.log
imp tpj/prod123@tpjprod file=x:\TPJ_FULL_20081030.dmp fromuser=tpj touser=tpj


imp tpj/prod123@tpjprod file=c:\TPJ\Dump\TPJ_SERVER_20081023142654.DMP fromuser=tpj touser=tpj 

imp glenon@gvm file=C:\Yiucon\peterson\Dump\PPT_DBA_SERVER_20081017113703.DMP fromuser=ppt_dba touser=ppt_dba grants=no



select 'drop public synonym ' || SYNONYM_NAME || ';' from dba_synonyms where owner = 'PUBLIC' and table_owner='TPJ';


cd \project\tpj\dump
imp ppt_dba@gvm file=C:\Yiucon\peterson\Dump\PPT_DBA_SERVER_20081209132629.DMP fromuser=ppt_dba touser=ppt_dba grants=no log=c:\imp.log
exp ppt_dba@gvm file=C:\Yiucon\peterson\Dump\PPT_DBA_GVM_20081126.dmp owner=ppt_dba buffer=32768 compress=no statistics=none
exp glenon@gvm file=c:\RUDOLPH_8i_20080915.dmp owner=rudolph buffer=32768 compress=no statistics=none
imp file=RUDOLPH_LOCAL_gvm.dmp fromuser=rudolph touser=rudolph grants=no


$ sqlplus /nolog
SQL> connect internal
SQL> drop user rudolph cascade;
SQL> create user rudolph identified by rudolph default tablespace users temporary tablespace temp;
SQL> grant dba to rudolph;

$ imp glenon file=RUDOLPH_8i_20080915.dmp fromuser=rudolph touser=rudolph grants=no indexfile=rudolph.sql

CREATE TABLE "INV_ITEM_WARE" ("WARE_CODE" VARCHAR2(16) NOT NULL ENABLE, "DR_NO" VARCHAR2(16) NOT NULL ENABLE, "ITTY_CODE" VARCHAR2(16) NOT NULL ENABLE, "ITGR_CODE" VARCHAR2(16) NOT NULL ENABLE, "CATE_CODE" VARCHAR2(16) NOT NULL ENABLE, "ITEM_CODE" VARCHAR2(16) NOT NULL ENABLE, "UOME_CODE" VARCHAR2(16) NOT NULL ENABLE, "QTY" NUMBER(10, 2), "QTY_AVAIL" NUMBER(10, 2), "QTY_ALLOC" NUMBER(10, 2), "CREATED_BY" VARCHAR2(32) NOT NULL ENABLE, "DT_CREATED" DATE NOT NULL ENABLE, "MODIFIED_BY" VARCHAR2(32), "DT_MODIFIED" DATE, "UNIT_COST" NUMBER(12, 4), "CURRENCY" VARCHAR2(16), "DISCOUNT" NUMBER(10, 2))  PCTFREE 10 PCTUSED 0 INITRANS 1 MAXTRANS 255 LOGGING STORAGE(INITIAL 65536) TABLESPACE "USERS";
ALTER TABLE "INV_ITEM_WARE" MODIFY ("QTY" DEFAULT 0);
ALTER TABLE "INV_ITEM_WARE" MODIFY ("QTY_AVAIL" DEFAULT 0);
ALTER TABLE "INV_ITEM_WARE" MODIFY ("QTY_ALLOC" DEFAULT 0);
ALTER TABLE "INV_ITEM_WARE" MODIFY ("UNIT_COST" DEFAULT 0);
ALTER TABLE "INV_ITEM_WARE" MODIFY ("CURRENCY" DEFAULT 'PHP');
ALTER TABLE "INV_ITEM_WARE" MODIFY ("DISCOUNT" DEFAULT 0 );

CREATE TABLE "INV_PO_HDR" ("PO_NO" VARCHAR2(16) NOT NULL ENABLE, "SUPP_CODE" VARCHAR2(16) NOT NULL ENABLE, "RSHD_RS_NO" VARCHAR2(16) NOT NULL ENABLE, "PO_DATE" DATE NOT NULL ENABLE, "PREPARED_BY" VARCHAR2(16), "DT_PREPARED" DATE, "APPROVED_BY" VARCHAR2(16), "DT_APPROVED" DATE, "STATUS" VARCHAR2(12) NOT NULL ENABLE, "REMARKS" VARCHAR2(255), "CURRENCY" VARCHAR2(6) NOT NULL ENABLE, "CREATED_BY" VARCHAR2(32) NOT NULL ENABLE, "DT_CREATED" DATE NOT NULL ENABLE, "MODIFIED_BY" VARCHAR2(32), "DT_MODIFIED" DATE, "TERMS" VARCHAR2(15) NOT NULL ENABLE, "SENT_TO_SUPPLIER" CHAR(1), "PO_DR_STATUS" VARCHAR2(20) NOT NULL ENABLE, "PO_PRINT_CNT" NUMBER(3, 0))  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 LOGGING STORAGE(INITIAL 65536) TABLESPACE "USERS";
ALTER TABLE "INV_PO_HDR" MODIFY ("STATUS" DEFAULT 'FOR APPROVAL' );
ALTER TABLE "INV_PO_HDR" MODIFY ("CURRENCY" DEFAULT 'PHP' );
ALTER TABLE "INV_PO_HDR" MODIFY ("TERMS" DEFAULT 'COD' );
ALTER TABLE "INV_PO_HDR" MODIFY ("SENT_TO_SUPPLIER" DEFAULT 'N');
ALTER TABLE "INV_PO_HDR" MODIFY ("PO_DR_STATUS" DEFAULT 'WAITING FOR PO' );
ALTER TABLE "INV_PO_HDR" MODIFY ("PO_PRINT_CNT" DEFAULT 0 );

CREATE TABLE "INV_REQSLIP_HDR" ("RS_NO" VARCHAR2(16) NOT NULL ENABLE, "RS_DATE" DATE NOT NULL ENABLE, "RS_TYPE" VARCHAR2(12) NOT NULL ENABLE, "STATUS" VARCHAR2(12) NOT NULL ENABLE, "DEPT_CODE" VARCHAR2(16) NOT NULL ENABLE, "REQUESTED_BY" VARCHAR2(16), "PREPARED_BY" VARCHAR2(16), "DT_PREPARED" DATE, "APPROVED_BY" VARCHAR2(16), "DT_APPROVED" DATE, "REMARKS" VARCHAR2(255), "CREATED_BY" VARCHAR2(32) NOT NULL ENABLE, "DT_CREATED" DATE NOT NULL ENABLE, "MODIFIED_BY" VARCHAR2(32), "DT_MODIFIED" DATE, "VESS_CODE" VARCHAR2(16), "CSHD_CS_NO" VARCHAR2(16), "WITH_STOCK" CHAR(1), "FOR_STOCK" CHAR(1), "RS_CS_STATUS" VARCHAR2(20) NOT NULL ENABLE, "RS_ISS_STATUS" VARCHAR2(20), "ISS_QTY" NUMBER(10, 2))  PCTFREE 10 PCTUSED 0 INITRANS 1 MAXTRANS 255 LOGGING STORAGE(INITIAL 65536) TABLESPACE "USERS";
ALTER TABLE "INV_REQSLIP_HDR" MODIFY ("RS_TYPE" DEFAULT 'MAINTENANCE'         );
ALTER TABLE "INV_REQSLIP_HDR" MODIFY ("STATUS" DEFAULT 'FOR APPROVAL'        );
ALTER TABLE "INV_REQSLIP_HDR" MODIFY ("WITH_STOCK" DEFAULT 'N');
ALTER TABLE "INV_REQSLIP_HDR" MODIFY ("RS_CS_STATUS" DEFAULT 'WAITING FOR RS' );
ALTER TABLE "INV_REQSLIP_HDR" MODIFY ("RS_ISS_STATUS" DEFAULT 'WAITING FOR RS' );
ALTER TABLE "INV_REQSLIP_HDR" MODIFY ("ISS_QTY" DEFAULT 0 );

CREATE TABLE "INV_REQSLIP_DTL" ("RSHD_RS_NO" VARCHAR2(16) NOT NULL ENABLE, "ITTY_CODE" VARCHAR2(16) NOT NULL ENABLE, "CATE_CODE" VARCHAR2(16) NOT NULL ENABLE, "ITGR_CODE" VARCHAR2(16) NOT NULL ENABLE, "ITEM_CODE" VARCHAR2(16) NOT NULL ENABLE, "STATUS" VARCHAR2(12) NOT NULL ENABLE, "QTY" NUMBER(10, 2) NOT NULL ENABLE, "APPROVED_QTY" NUMBER(10, 2) NOT NULL ENABLE, "UNIT_COST" NUMBER(12, 4) NOT NULL ENABLE, "TOTAL_COST" NUMBER(12, 4) NOT NULL ENABLE, "UOME_CODE" VARCHAR2(16) NOT NULL ENABLE, "REMARKS" VARCHAR2(128), "CREATED_BY" VARCHAR2(32) NOT NULL ENABLE, "DT_CREATED" DATE NOT NULL ENABLE, "MODIFIED_BY" VARCHAR2(32), "DT_MODIFIED" DATE, "LPO_COST" NUMBER(12, 4), "LPO_CURRENCY" VARCHAR2(16), "STOCK" NUMBER(10, 2), "CSHD_CS_NO" VARCHAR2(16), "POHD_PO_NO" VARCHAR2(16), "ISS_QTY" NUMBER(10, 2))  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 LOGGING STORAGE(INITIAL 65536) TABLESPACE "USERS";
ALTER TABLE "INV_REQSLIP_DTL" MODIFY ("STATUS" DEFAULT 'FOR APPROVAL' );
ALTER TABLE "INV_REQSLIP_DTL" MODIFY ("QTY" DEFAULT 0 );
ALTER TABLE "INV_REQSLIP_DTL" MODIFY ("APPROVED_QTY" DEFAULT 0 );
ALTER TABLE "INV_REQSLIP_DTL" MODIFY ("UNIT_COST" DEFAULT 0 );
ALTER TABLE "INV_REQSLIP_DTL" MODIFY ("TOTAL_COST" DEFAULT 0 );
ALTER TABLE "INV_REQSLIP_DTL" MODIFY ("STOCK" DEFAULT 0);
ALTER TABLE "INV_REQSLIP_DTL" MODIFY ("ISS_QTY" DEFAULT 0 );


alter PROCEDURE GEN_TMP_ACCT_ENTRIES compile;
alter VIEW INV_SUMMARY compile;
alter VIEW INV_VESSEL_LEDGER compile;
alter VIEW INV_VESSEL_LEDGER_SUMMARY compile;
alter VIEW INV_WAREHOUSE_VIEW compile;
alter PROCEDURE SP_GET_REPAIR_COST compile;
alter PROCEDURE SP_PAYROLL_COMPUTATION compile;


drop table CMS_CATCHES_LOG_20081021;
drop table CMS_CATCHES_DR_DTLS_20081021;
drop table INV_CANVASSS_DTL200811203;
drop table INV_CANVASSS_HDR200811203;
drop table PMS_CREW_LIST_20090415;
drop table INV_REQSLIP_DTL200811203;
drop table INV_REQSLIP_HDR200811203;
drop table PMS_EMPLOYEES_06112008;
drop table PYS_DEDUCTIONS_06122008;
drop table PYS_PAYROLL_ADJ_LOG_20090115;
drop table PYS_PAYROLL_DTL_20080729;
drop table PYS_PAYROLL_DTL_20081215;
drop table PYS_PAYROLL_DTL_20090115;
drop table PYS_PAYROLL_DTL_LOG_20090115;
drop table PYS_PAYROLL_SUMMARY_20081002;
drop table PYS_PAYROLL_SUMMARY_20090106;
drop table PYS_PAYROLL_SUMMARY_20090115;

update PYS_PAYROLL_DTL_ADJ_LOG set adj_approval = 'N' where empl_empl_id = 'P00016' and pahd_payroll_no = 20090415;
commit;

